一、设计表，根据上面给出的表字段信息，写出建表语句
CREATE TABLE `book`  (
  `id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT '自增的主键',
  `book_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '图书号',
  `author_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '作者号',
  `book_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '书名',
  `pages` int(11) NOT NULL COMMENT '页数',
  `price` decimal(10, 2) NOT NULL COMMENT '价格',
  `press` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '出版社',
  `created_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `delete_state` tinyint(4) NOT NULL COMMENT '0表示正常使用；1表示已删除',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `book_id`(`book_id`) USING BTREE COMMENT '唯一索引：图书号'
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '图书表' ROW_FORMAT = Dynamic;


CREATE TABLE `author`  (
  `id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT '自增的主键',
  `author_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '作者号',
  `author_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '作者名',
  `content` varchar(1000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '作者简介',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `delete_state` tinyint(4) NOT NULL COMMENT '0表示正常使用；1表示已删除',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `author_id`(`author_id`) USING BTREE COMMENT '唯一索引：作者号'
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '作者表' ROW_FORMAT = Dynamic;


CREATE TABLE `award`  (
  `id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT '自增的主键',
  `book_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '图书号',
  `author_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '作者号',
  `cup_type` tinyint(4) NOT NULL COMMENT '奖项类型（0表示金；1表示银；2表示铜）',
  `cup_time` datetime NOT NULL COMMENT '获奖时间',
  `created_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `delete_state` tinyint(4) NOT NULL COMMENT '0表示正常使用；1表示已删除',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `book_id`(`book_id`) USING BTREE COMMENT '唯一索引：图书号'
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '奖项表' ROW_FORMAT = Dynamic;


二、根据上面给出的表信息，结合以下信息合理设计索引，并写出创建索引的语句
1、查询某作者出版了哪些图书
ALTER TABLE book add INDEX idx_author_id (author_id)；

2、查询某作者获得过哪些奖项，对应什么作品
ALTER TABLE award add INDEX idx_author_id (author_id)

3、查询某作者某段时间内获得过哪些奖项
CREATE INDEX idx_author_time ON award (author_id, cup_time);

三、完成以下SQL
1、查询姓王的作者有多少

2、查询获奖作者总人数

3、查询同时获得过金奖、银奖的作者姓名
	
4、查询获得过金奖的图书有多少本，银奖的有多少本


5、查询最近一年内获过奖的作者姓名

四、
1、如何查看表的结构信息？如何查看索引选择性？

2、联合索引中的字段顺序应该如何设计？

3、以下查询应如何创建索引？
select * from tb1 where name='zww' order by create_time desc limit 10;
select * from tb1 where create_time between '2016-08-01 0:00:00' and '2016-08-31 23:59:59';

4、char(10)和 varchar(10)，varchar(100)有什么区别？简单描述一下什么场景下用哪个类型

5、在utf8字符集和utf8mb4字符集下，varchar(50)分别能存储多少字符？创建索引时，字符串长度分别为多少，才能成功创建完整索引（而不是前缀索引）

6、以下查询如何创建索引能够实现覆盖索引优化？(请给出具体SQL)
select invalid_time_flag from pushtoken_android_62 
	where uid = 'AC54E24E-FB73-3981-C4BC-CED8D69407F8' 
		and pid = '10010'

select count(*) from pushtoken_android_62 
	where uid = 'AC54E24E-FB73-3981-C4BC-CED8D69407F8' 
	and pid = '10010'

五、
1、公司mysql数据库采用那种字符集作为标准字符集？
选项A	latin1
选项B	utf8
选项C	gbk
选项D	utf8mb4
 
2、在公司MySQL使用中如下哪些是不允许的？
选项A	使用外键
选项B	使用存储过程、触发器和自定义函数
选项C	使用视图
选项D	使用事件

3、公司mysql数据库采用哪种存储引擎作为标准存储引擎？
选项A	MyISAM
选项B	InnoDB
选项C	NDB
选项D	MEMORY



